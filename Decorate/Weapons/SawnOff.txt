Actor SawnOffToken : Inventory {}

Actor GMIDSuperShotgun : SuperShotgun
{
	Weapon.BobRangeX 0.3
	Weapon.BobRangeY 0.5
	Weapon.BobStyle InverseSmooth
	Weapon.BobSpeed 2.0
	Weapon.UpSound "dbcock"
	Tag "$TAG_SAWNOFF"
	Weapon.AmmoUse 2
	+WEAPON.NOALERT
	Inventory.PickupMessage "$GOTSAWNOFF"
	Obituary "$OB_SAWNOFF"
	Inventory.Icon "SGN2A0B0"
	states
	{
	  Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(128, "Spawn2")
		SGN2 A -1 
		Stop
	  Spawn2:
		SGN2 B -1
		Stop
	Ready:
		TNT1 A 0 A_JumpIfInventory("SawnOffToken",1,"FirstTime")
		SHOG A 1 A_WeaponReady
		Loop
	FirstTime:
		TNT1 A 0 A_TakeInventory("SawnOffToken",0)
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("PVPCheck",0,0,0,0) == 2,"Ready")
		TNT1 A 0 A_JumpIf(CallACS("PickupAnimation")==0, "Ready")
		SHOG A 2 A_WeaponReady
		TNT1 A 0 A_PlaySound("weapon/fiddle")
		S2FS ABCDEFFF 2 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		TNT1 A 0 A_PlaySound("weapons/ssg1", CHAN_AUTO)
		S2FS GHHHIJKKKKKKKK 2 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		TNT1 A 0 A_PlaySound("weapon/fiddle")
		S2FS LMNO 2 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		TNT1 A 0 A_PlaySound("weapons/DSDBLOAD", CHAN_AUTO)
		S2FS PPPQRSSSSSSSS 2 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		TNT1 A 0 A_PlaySound("weapons/DSDBCLS")
		S2FS TUVWXY 2 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		Goto Ready
	Fire:
		SHOG A 0 A_PlaySound("weapons/DSDSHTGN", CHAN_AUTO)
		SHOG A 0 A_AlertMonsters
		SHOG A 0 A_JumpIfInventory("PowerQuadDamageST", 1, "QuadFire")
		SHOG A 0 A_JumpIfInventory("PowerDoubleDamage", 1, "DoubleFire")
		Goto ContinueFire
	QuadFire:
		TNT1 A 0 A_SetBlend("Blue", 0.25, 16)
		SHOG A 0 A_PlaySound("QuadDamage/Use")
		Goto ContinueFire
	DoubleFire:
		TNT1 A 0 A_SetBlend("Red", 0.25, 16)
		SHOG A 0 A_PlaySound("DoubleDamage/Use")
	ContinueFire:
		SHOF A 0 A_SetPitch(pitch-1)
		SHOF A 0 A_Light1
		SHOF A 0 A_FireBullets (5.6, 3.55, 20, 5, "XaserPuff")
		SHOF A 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		SHOF B 0 A_SetPitch(pitch+0.5)
		SHOF B 0 A_Light0
		SHOF B 1 BRIGHT A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		SHOG B 0 A_SetPitch(pitch+0.5)
		SHOG BC 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		SHOG D 2 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		SHOG EFGHIJ 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		SHOG K 0 A_CheckReload
		SHOG K 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		SHOG L 0 A_PlaySound("SSG/Eject", CHAN_AUTO)
		SHOG L 0 A_PlayWeaponSound ("weapons/ssg1")
		SHOG L 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		SHOG M 0 A_FireCustomMissile("ShotgunCasingSpawner",0,0,10,0)
		SHOG M 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		SHOG N 0 A_FireCustomMissile("ShotgunCasingSpawner",0,0,8,0)
		SHOG NOPQR 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		TNT1 A 5
		TNT1 A 1 A_PlayWeaponSound ("weapons/DSDBLOAD")
		TNT1 A 5
		SHOG STUVW 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		SHOG X 0 A_PlayWeaponSound ("weapons/DSDBCLS")
		SHOG XYZ 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
		SHOG A 0 A_WeaponReady
		goto Ready
	Deselect:
		SHOG A 1 A_Lower
		SHOG A 0 A_Lower
		Loop
	Select:
		SHOG A 1 A_Raise
		SHOG A 0 A_Raise
		Loop
  AltFire:
	TNT1 A 0 A_GunFlash("WeaponStill")
	TNT1 A 0 A_PlaySound ("weapons/KICK",CHAN_WEAPON)
	FOOT AB 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
	FOOT C 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
	FOOT D 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
	FOOT D 0 A_JumpIfInventory("PowerQuadDamageST", 1, "QuadKick")
	FOOT D 0 A_JumpIfInventory("PowerDoubleDamage", 1, "DoubleKick")
	Goto ContinueKick
  QuadKick:
	TNT1 A 0 A_SetBlend("Blue", 0.25, 16)
	FOOT D 0 A_PlaySound("QuadDamage/Use",CHAN_7)
	Goto ContinueKick
  DoubleKick:
	TNT1 A 0 A_SetBlend("Red", 0.25, 16)
	FOOT D 0 A_PlaySound("DoubleDamage/Use",CHAN_7)
  ContinueKick:
	FOOT D 0 A_CustomPunch(5,0,0,"KickPuff")
	FOOT D 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
	FOOT D 0 A_Quake(1,2,0,10,"")
	FOOT EF 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
	FOOT FEDCBA 1 A_WeaponReady(WRF_NoFire|WRF_NoSwitch)
	TNT1 A 8 A_WeaponReady(WRF_NoFire)
	TNT1 A 0 A_ReFire
	Goto Ready
	WeaponStill:
		SHOG A 22
		Goto LightDone
	}
}