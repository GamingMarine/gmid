ACTOR HomelessGunman
{
  Health 140
  Radius 20
  Height 56
  Speed 5
  PainChance 170
  PainChance "Foot", 256
  Mass 1000
  Scale 1.25
  Monster
  +FLOORCLIP
  +NOTARGET
  +NOINFIGHTING
  +MISSILEEVENMORE
  +LOOKALLAROUND
  SeeSound "Gunman/See"
  ActiveSound "Gunman/Roam"
  PainSound "Gunman/Pain"
  DeathSound "Gunman/Die"
  AttackSound "Weapons/MiniFire"
  Obituary "$OB_HOMELESS"
  DropItem "ClipSpawner"
  Tag "$TAG_HOMELESS"
  States
  {
  Spawn:
    SWRG A 35 A_Look
    Loop
  See:
    SWRG BBCCDDEE 2 A_Chase
    loop
  Missile:
	SWRG F 8 A_FaceTarget
	SWRG G 2 BRIGHT A_CustomBulletAttack(12,5,1,4,"XaserPuff_NoTaunt")
	SWRG G 1 A_FaceTarget
	SWRG H 2 BRIGHT A_CustomBulletAttack(12,5,1,4,"XaserPuff_NoTaunt")
	SWRG H 1 A_FaceTarget
	SWRG G 2 BRIGHT A_CustomBulletAttack(12,5,1,4,"XaserPuff_NoTaunt")
	SWRG G 1 A_FaceTarget
	SWRG H 2 BRIGHT A_CustomBulletAttack(12,5,1,4,"XaserPuff_NoTaunt")
	SWRG H 1 A_FaceTarget
	SWRG G 2 BRIGHT A_CustomBulletAttack(12,5,1,4,"XaserPuff_NoTaunt")
	SWRG G 1 A_FaceTarget
	SWRG H 2 BRIGHT A_CustomBulletAttack(12,5,1,4,"XaserPuff_NoTaunt")
	SWRG F 4
	Goto See
  Pain:
    SWRG Q 4 A_Pain
	Goto See
  Pain.Foot:
  Pain.BigFist:
    SWRG Q 2 A_FaceTarget
    SWRG A 0 A_ChangeFlag("NOPAIN",1)
    SWRG A 0 A_Recoil(14)
    SWRG Q 33 A_Pain
	SWRG Q 0 A_ChangeFlag("NOPAIN",0)
    Goto See
  Pain.Uppercut:
	SWRG Q 0 A_FaceTarget
	SWRG A 0 A_ChangeFlag("NOPAIN",1)
	SWRG A 0 ThrustThingZ(0,16,0,0)
	SWRG Q 33 A_Pain
	SWRG Q 0 A_ChangeFlag("NOPAIN",0)
	Goto See
  Death:
	SWRG I 0 A_GiveToTarget("ScoreItem",700)
    SWRG I 4 A_Scream
    SWRG J 4 A_NoBlocking
    SWRG K 4
	SWRG L 12
	SWRG M 4 A_PlaySound("OBCTerrVomit",CHAN_VOICE)
	SWRG NO 4
	SWRG P 0 A_PlaySound("body/hitfloor")
    SWRG P -1
    Stop
  Death.Basic:
	SWRG I 0 A_GiveToTarget("ScoreItem",700)
    SWRG I 4 A_Scream
    SWRG J 4 A_NoBlocking
    SWRG K 4
	SWRG L 12
	SWRG M 4 A_PlaySound("OBCTerrVomit",CHAN_VOICE)
	SWRG NO 4
	SWRG P 4 A_PlaySound("body/hitfloor")
	TNT1 A 0 A_Jump(16, "KillTaunt")
    SWRG P -1
    Stop
  KillTaunt:
  	TNT1 A 0 A_PlaySound("player/killtaunt", CHAN_AUTO)
    SWRG P -1
    Stop
  Death.Foot:
	SWRG I 0 A_GiveToTarget("ScoreItem",700)
	SWRG I 0 ThrustThingZ(0,8,0,0)
    SWRG I 4 A_Scream
    SWRG J 4 A_NoBlocking
    SWRG K 4
	SWRG L 12
	SWRG M 4 A_PlaySound("OBCTerrVomit",CHAN_VOICE)
	SWRG NO 4
	SWRG P 4 A_PlaySound("body/hitfloor")
	TNT1 A 0 A_Jump(16, "KickTaunt")
    SWRG P -1
    Stop
  KickTaunt:
  	TNT1 A 0 A_PlaySound("player/kicktaunt", CHAN_AUTO)
    SWRG P -1
    Stop
  Death.BigFist:
	SWRG I 0 A_GiveToTarget("ScoreItem",700)
    SWRG I 0 A_Scream
	SWRG I 2 A_FaceTarget
	SWRG I 0 A_Recoil(14)
	SWRG I 2
	SWRG J 4 A_NoBlocking
    SWRG K 4
	SWRG L 12
	SWRG M 4 A_PlaySound("OBCTerrVomit",CHAN_VOICE)
	SWRG NO 4
	SWRG P 4 A_PlaySound("body/hitfloor")
	TNT1 A 0 A_Jump(16, "KillTaunt")
    SWRG P -1
    Stop
  Death.Uppercut:
	SWRG I 0 A_GiveToTarget("ScoreItem",700)
	SWRG I 0 A_FaceTarget
	SWRG I 0 ThrustThingZ(0,16,0,0)
	SWRG I 4 A_Scream
	SWRG J 4 A_NoBlocking
    SWRG K 4
	SWRG L 12
	SWRG M 4 A_PlaySound("OBCTerrVomit",CHAN_VOICE)
	SWRG NO 4
	SWRG P 4 A_PlaySound("body/hitfloor")
	TNT1 A 0 A_Jump(16, "KillTaunt")
    SWRG P -1
    Stop
  XDeath:
  Death.GMIDExplosion:
  Death.GMIDRailgun:
	TNT1 A 0 A_GiveToTarget("ScoreItem",700)
	TNT1 A 0 A_StopSound(CHAN_VOICE)
	TNT1 A 0 A_XScream
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_SpawnItem("GMIDGibSpawner")
	TNT1 A 0 A_Jump(16, "GibTaunt")
	Stop
  GibTaunt:
	TNT1 A 40
	TNT1 A 0 A_PlaySound("player/gibtaunt", CHAN_AUTO)
	Stop
  Death.Fire:
  Death.CookieFire:
	ZSC1 G 0 A_GiveToTarget("ScoreItem",700)
	ZSC1 G 0 A_NoBlocking
	ZSC1 G 0 A_SpawnItem("BurningBoi")
	TNT1 A -1
	Stop
  Death.CookieIce:
	"####" "#" 5 A_GenericFreezeDeath
	"----" A 1 A_FreezeDeathChunks
	Wait
  Crush:
	TNT1 A 0 A_PlaySound("body/crush",CHAN_VOICE)
	POL5 A -1
	Stop
  }
}